<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>地名百科</title>
    <link rel='icon' href='images/fav.ico ' type=‘image/x-ico’ />

    <!-- Core CSS - Include with every page -->
    <link href="../../js/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../font-awesome/css/font-awesome.css" rel="stylesheet">


    <link href="../../css/plugins/social-buttons/social-buttons.css" rel="stylesheet">

    <link href="../../css/jquery.autocomplete.css" rel="stylesheet"/>
    <!--<link href="css/hummingmap.css" rel="stylesheet"/>-->
    <link href="../../css/kkpager.css" rel="stylesheet"/>
    <link href="../../css/search.css" rel="stylesheet"/>
    <!--<link href="js/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/>-->
    <link href="../../css/index.css" rel="stylesheet"/>
    <link href="../../css/spinkit.css" rel="stylesheet"/>
    
	<link rel="stylesheet" href="../../css/jquery.treeview.css" />
	<link rel="stylesheet" href="../../css/screen.css" />
	<style>
		/*.my-map { width: 100%; height: 100%; }*/
		/*.my-map .icon { background: url(http://lbs.amap.com/console/public/show/marker.png) no-repeat; }*/
		/*.my-map .icon-cir { height: 31px; width: 28px; }*/
		/*.my-map .icon-cir-red { background-position: -11px -5px; }*/
		.amap-container{height: 100%; width: 100%; overflow:scroll}
		body,html,#mapContainer{
			height: 100%;
			width: 100%;
			margin: 0px;
			font:12px Arial;
		}
		.taiwan{
			border: solid 1px red;
			color: red;
			float: left;
			width: 50px;
			background-color: rgba(255,0,0,0.1)
		}
		.info {
			border: solid 1px silver;
		}
		div.info-top {
			position: relative;
			background: none repeat scroll 0 0 #F9F9F9;
			border-bottom: 1px solid #CCC;
			border-radius: 5px 5px 0 0;
		}
		div.info-top div {
			display: inline-block;
			color: #333333;
			font-size: 14px;
			font-weight: bold;
			line-height: 31px;
			padding: 0 10px;
		}
		div.info-top img {
			position: absolute;
			top: 10px;
			right: 10px;
			transition-duration: 0.25s;
		}
		div.info-top img:hover {
			box-shadow: 0px 0px 5px #000;
		}
		div.info-middle {
			font-size: 12px;
			padding: 6px;
			line-height: 20px;
		}
		div.info-bottom {
			height: 0px;
			width: 100%;
			clear: both;
			text-align: center;
		}
		div.info-bottom img {
			position: relative;
			z-index: 104;
		}
		span {
			margin-left: 5px;
			font-size: 11px;
		}
		.info-middle img {
			float: left;
			margin-right: 6px;
		}
	</style>

    <script src="../../js/jquery-1.10.2.min.js"></script>
	<script src="../../js/jquery.cookie.js"></script>
	<script src="../../js/jquery.treeview.js" type="text/javascript"></script>
	<script src="../../js/jquery.treeview.edit.js" type="text/javascript"></script>
	<script src="http://webapi.amap.com/js/marker.js"></script>
	<script src="http://webapi.amap.com/maps?v=1.3&key=8325164e247e15eea68b59e89200988b&plugin=AMap.ToolBar,AMap.Marker"></script>
	<script type="text/javascript" src="http://webapi.amap.com/demos/js/liteToolbar.js"></script>
</head>

<body>


    <div id="hm_header" class="hmbar-header hmbar-default">
        <a class="navbar-brand" href="index.html">
            <img src="images/logo.png" />
        </a>

        <div class="hm-searchpanel">
            <div id='hm_searchinput' class="input-group custom-search-form">
                <input id="autocomplete" title="提示: &quot;输入搜索关键字&quot;" placeholder="地名百科搜索..." class="form-control">
                                <span class="input-group-btn">
                                <button id="search" class="btn btn-default" type="button">
                                    <i class="fa fa-search"></i>
                                </button>
                                </span>
            </div>
        </div>
    </div>

	<div id="hm_sidebar" class="hmbar-side hmbar-default ">
		<!-- 边栏表头 -->
        <div id="infohead" class="hm-infohead">
            <div id="hm_wikinav" class="headnav-default">
                <p><i class="fa fa-lg fa-th fa-fw"></i> 行政区划</p>
            </div>
            <div id="hm_classnav" class="headnav-default">
                <p><i class="fa fa-lg fa-th-large fa-fw"></i> 地名分类</p>
            </div>
            <div id="hm_favnav" class="headnav-default">
                <p><i class="fa fa-lg fa-ticket fa-fw"></i> 路径规划</p>
            </div>
        </div>

        <div id="hm_mapInfo" class="hm-mapinfo">
			<!-- 地名类型 -->
            <div id="hm_infoClass" class="hm-infoclass">
			
  <div id="sidetreecontrol1"> <a href="#">全部收起</a> | <a href="#">全部展开</a> </div>

  <ul class="treeview" id="tree1">

	<li class="expandable" id="folder0">
		<div class="hitarea expandable-hitarea"></div>
		<a href="#" onclick="gotoBigType('行政区域类')">行政区域类</a>
	<ul style="display: none;">
		<!-- <li><a href="#/enewsletters/index.cfm">行政区域</a></li> -->
		<li class="last">
			<a href="#/index.cfm" onclick="gotoSmallType('行政区域类', '行政区域')">行政区域</a>
		</li>
	</ul>
	</li>
	
	<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#" onclick="gotoBigType('非行政区域类')">非行政区域类</a></li>
	<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#/index.cfm">群众自治组织类</a></li>
	<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#/index.cfm">居民点类</a></li>
	<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#/index.cfm">交通运输设施类</a></li>
	<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#/index.cfm">水利电力设施类</a></li>
	<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#/index.cfm">纪念地旅游景点类</a></li>
	<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#/index.cfm">建筑物类</a></li>
	<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#/index.cfm">单位类</a></li>
	<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#/index.cfm">陆地水系类</a></li>
	<li class="last"><div class="hitarea expandable-hitarea"></div><a href="#/index.cfm">陆地地形类</a></li>
	
</ul>
			
			
			</div>
			<div id="hm_reclass" class="hm-reclass">


			</div>
            <div id="hm_favorites" class="hm-favorites"></div>
			<!--  行政区划 -->
            <div id="hm_wikiClass" class="hm-wikiClass">

                <div class="hm-wikiAdv">
		
  <div id="sidetreecontrol2"> <a href="#">全部收起</a> | <a href="#">全部展开</a> </div>

	<ul class="treeview" id="tree2">

		<li class="expandable" id="folder1">
			<div class="hitarea expandable-hitarea"></div>
			<a href="#">湖北省</a>
			<ul>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">武汉市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">恩施土家族苗族自治州</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">黄石市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">十堰市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">宜昌市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">襄阳市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">鄂州市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">荆门市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">孝感市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">荆州市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">黄冈市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">咸宁市</a></li>
				<li class="expandable"><div class="hitarea expandable-hitarea"></div><a href="#">随州市</a></li>
				<li class="last"><div class="hitarea expandable-hitarea"></div><a href="#">省直辖县级行政单位</a></li>
			</ul>
					</li>
</ul>
                </div>
            </div>
        </div>

		<div id="searchresults" class="SearchResult">
			<div id="resultitems"></div>
			<div id="hm_Paginate"></div>
		</div>

	</div>

    <div id="hm_content" class="hmbar-content">
		<!--<div id="wrap" class="my-map">-->
			<div id="mapContainer"></div>

    </div>


	<script type="text/javascript" src="http://webapi.amap.com/maps?v=1.3&key=ce2cdf09c48f5eda3b45a3ac24ee19ca&plugin=AMap.DistrictSearch"></script>
    <!--<script type="text/javascript" src="js/json2.js"></script>-->
    <script type="text/javascript" src="../../js/echarts/echarts-all.js"></script>
    <!--<script src="js/proj4.js"></script>-->
    <script data-main="js/main" src="../../js/require.js"></script>
	<script src="../../data/testdata.js" type="text/javascript" charset=”utf-8″></script>
	<script type="text/javascript">

		var infoWindow, map, level = 12;
		var markers = [];


		function mapFeatureClick(e){
//			var extData = e.target.getExtData();
//			var title= extData.name + '<span style="font-size:11px;color:#F00;">&nbsp;&nbsp;' + extData['小类'] + '</span>',
//					content=[];
//			content.push("<img src='http://tpc.googlesyndication.com/simgad/5843493769827749134'>"
//					+ "<strong>地名含义：</strong>" + extData.desc);
//			content.push("<strong>所在（跨）行政区：</strong>"+ extData['所在（跨）行政区']);
//			content.push("<a href='html/wikiContent_fitall.html?name=" + extData.nickname + "' target='_blank'>详细信息</a>");
//			if(infoWindow) {
//				closeInfoWindow();
//			}
//			infoWindow = new AMap.InfoWindow({
//				isCustom: true,  //使用自定义窗体
//				content: createInfoWindow(title,content.join("<br>")),
//				offset: new AMap.Pixel(10, -30)//-113, -140
//			});
//			infoWindow.open(map, e.lnglat);
			openInfoWindow(e.target.getExtData());
		}



		//构建自定义信息窗体
		function createInfoWindow(title, content) {
			var info = document.createElement("div");
			info.className = "info";

			//可以通过下面的方式修改自定义窗体的宽高
			//info.style.width = "400px";
			// 定义顶部标题
			var top = document.createElement("div");
			var titleD = document.createElement("div");
			var closeX = document.createElement("img");
			top.className = "info-top";
			titleD.innerHTML = title;
			closeX.src = "http://webapi.amap.com/images/close2.gif";
			closeX.onclick = closeInfoWindow;

			top.appendChild(titleD);
			top.appendChild(closeX);
			info.appendChild(top);

			// 定义中部内容
			var middle = document.createElement("div");
			middle.className = "info-middle";
			middle.style.backgroundColor = 'white';
			middle.innerHTML = content;
			info.appendChild(middle);

			// 定义底部内容
			var bottom = document.createElement("div");
			bottom.className = "info-bottom";
			bottom.style.position = 'relative';
			bottom.style.top = '0px';
			bottom.style.margin = '0 auto';
			var sharp = document.createElement("img");
			sharp.src = "http://webapi.amap.com/images/sharp.png";
			bottom.appendChild(sharp);
			info.appendChild(bottom);
			return info;
		}


		function openInfoWindow(data) {
			var extData = data;
			var title= extData.name + '<span style="font-size:11px;color:#F00;">&nbsp;&nbsp;' + extData['小类'] + '</span>',
					content=[];
			content.push("<img src='http://tpc.googlesyndication.com/simgad/5843493769827749134'>"
					+ "<strong>地名含义：</strong>" + extData.desc);
			content.push("<strong>所在（跨）行政区：</strong>"+ extData['所在（跨）行政区']);
			content.push("<a href='html/wikiContent_fitall.html?name=" + extData.nickname + "' target='_blank'>详细信息</a>");
			if(infoWindow) {
				closeInfoWindow();
			}
			infoWindow = new AMap.InfoWindow({
				isCustom: true,  //使用自定义窗体
				content: createInfoWindow(title,content.join("<br>")),
				offset: new AMap.Pixel(10, -30)//-113, -140
			});
			infoWindow.open(map, data.position);
		}
		//关闭信息窗体
		function closeInfoWindow() {
			map.clearInfoWindow();
			infoWindow = null;
		}

		function gotoBigType(bigtype) {
			var tmpdata = [];
			for (var i = 0; i < placedata.length; i++) {
				var data = placedata[i];
				if(data['大类'] == bigtype) {
					tmpdata.push(data);
				}
			}
			if(tmpdata.length > 0) {
				setNewMarkers(tmpdata);
				setResultItems(tmpdata);
			} else {
				alert("暂无 " + bigtype + " 相关数据...");
			}
		}

		function gotoSmallType(bigtype, smalltype) {
			var tmpdata = [];
			for (var i = 0; i < placedata.length; i++) {
				var data = placedata[i];
				var flag = false;
				if(data['大类'] == bigtype && data['小类'] == smalltype) {
					tmpdata.push(data);
				}
			}
			if(tmpdata.length > 0) {
				setNewMarkers(tmpdata);
				setResultItems(tmpdata);
			} else {
				alert("暂无 " + bigtype +"-" + smalltype + " 相关数据...");
			}
		}

		function gotoDist(dictcode) {

			var tmpdata = [];
			for (var i = 0; i < placedata.length; i++) {
				var data = placedata[i];
				var thiscode = data['dist'];
				if(distIn(thiscode, dictcode)) {
					tmpdata.push(data);
				}
			}
			if(tmpdata.length > 0) {
				setNewMarkers(tmpdata);
				setResultItems(tmpdata);
			} else {
				alert("暂无 " + dictcode + " 地区相关数据...");
			}
		}

		function gotoPlace(posStr) {
			var [xstr, ystr] = posStr.split(",");
			var x = parseFloat(xstr);
			var y = parseFloat(ystr);
			var npos = [x, y];
			var zom = map.getZoom();
			if(zom < 16) {
				map.setZoom(zom+1);
			}
			map.setCenter(npos);
//			openInfoWindow(placedata);
		}

		function distIn(sub, par) {
			var i = 0;
			for(i = 0; i < sub.length; i++) {
				var c1 = sub.charCodeAt(i), c2 = par.charCodeAt(i);
				if(c1 != c2) {
					break;
				}
			}
			for( ;i < par.length; i++) {
				var c = par.charCodeAt(i);
				if(c != 48) {
					return false;
				}
			}
			return true;
		}

		function setNewMarkers(newdata) {
			while (markers.length > 0) {
				map.remove(markers);
				markers.pop();
			}
			closeInfoWindow();
			for(var i = 0; i < newdata.length; i++) {
				var data = newdata[i];
				var marker;
				marker = new AMap.Marker({
					map: map,
					position: data.position,
					zIndex: 3,
					extData: data,
					title: data.name
				});
				AMap.event.addListener(marker, "click", mapFeatureClick);
				markers.push(marker);
			}
			map.setFitView();
		}

		function setResultItems(muldata) {

//			var downdiv = document.getElementById("hm_mapInfo");
//			var downdiv = document.getElementById("hm_mapInfo");
//			downdiv.setAttribute("style","display: none;");

//			document.getElementById("hm_mapInfo").style.display="none";

//			document.getElementById("searchresults").style.display="block";

			var parentdiv = document.getElementById("searchresults");
			parentdiv.style.display="block";
			var prestr = "<div class='list-group'>", endstr = "</div>", midstr = "";
			for(var i = 0; i < muldata.length; i++) {
				var data = muldata[i];
				var str;
//				var jstr = JSON.stringify(data);
//				var reg = new RegExp("\"","g"); //创建正则RegExp对象
//				var rstr = jstr.replace(reg, "'");
				var rstr = data.position[0] +"," + data.position[1];
				str = "<div class='list-group-item'" +"onclick='gotoPlace(\""+ rstr + "\")'" +
						"><div class='SearchResult_item_left' " +
						"><p><strong>" + (i + 1) +
						"</strong></p></div><div class='SearchResult_item_content'>" +
						"<p><font color='#0B73EB'>" + data.name +
						"</font><span class='wikiTag'>" + data['小类'] +
						"</span></p><p>地域代码：" + data.dist + "</p></div></div>";
				midstr += str;
			}
			var totalstr = prestr + midstr + endstr;
			parentdiv.innerHTML = totalstr;
		}


		$(document).ready(function(){

		});

		function setTypes() {
			var wholetree = document.getElementById("tree1");
			var temp = document.getElementById("folder0");
			var inner1 = "<li class='expandable'>";
			var inner2 = "</li>";
			var branches = $(inner1 + "<div class='hitarea expandable-hitarea'></div>" +
					"<a href='#'>所有分类</a><ul id='dlist'></ul>" + inner2).appendTo("#folder0");
			var branchdom =$('#dlist')[0];
			var subDistricts = typedata.subclasses;
			for (var i = 0; i < subDistricts.length; i += 1) {	//	省内各城市
				var city = subDistricts[i];
				var cityname = city.name;
				var citynode = document.createElement("li");
				var $cn = $(citynode);
				if(i == subDistricts.length - 1) {
					citynode.setAttribute("class", "last");
				} else {
					citynode.setAttribute("class", "expandable");
				}
				var citydiv = document.createElement("div");
				citydiv.setAttribute("class", "hitarea expandable-hitarea");
				var citya = document.createElement("a");
				citya.setAttribute("href", "#");
				citya.setAttribute("class", "");
				citya.setAttribute("onclick", "gotoBigType('" + cityname + "')");
				var citytext = document.createTextNode(cityname);
				citya.appendChild(citytext);
				citynode.appendChild(citydiv);
				citynode.appendChild(citya);
				if (!city.subclasses) {
					branchdom.appendChild(citynode);
					continue;
				}
				var streetlist = document.createElement("ul");
				streetlist.setAttribute("style", "display: none;");
				for (var k = 0; k < city.subclasses.length; k++) {	//	区县内各街道
					var street = city.subclasses[k];
					var streetname = street.name;
					var streetnode = document.createElement("li");
					var streeta = document.createElement("a");
					streeta.setAttribute("href", "#");
					streeta.setAttribute("onclick", "gotoSmallType('"+cityname+"', '"+streetname+"')");
					var streettext = document.createTextNode(streetname);
					streeta.appendChild(streettext);
					streetnode.appendChild(streeta);
					streetlist.appendChild(streetnode);
				}
				citynode.appendChild(streetlist);
				branchdom.appendChild(citynode);
			}
			var htm = branches.html();
			wholetree.innerHTML = inner1 + htm + inner2;

			$("#tree1").treeview({
//				add: branches
//				remove: branches
			});
		}

		function setDists() {
			var wholetree = document.getElementById("tree2");
			var temp = document.getElementById("folder1");
			var inner1 = "<li class='expandable'>";
			var inner2 = "</li>";
			var branches = $(inner1 + "<div class='hitarea expandable-hitarea'></div>" +
					"<a href='#' onclick='gotoDist(\'420000000\')'>湖北省</a><ul id='clist'></ul>" + inner2).appendTo("#folder1");
			var branchdom =$('#clist')[0];

			var subDistricts = distdata.subclasses;
			for (var i = 0; i < subDistricts.length; i += 1) {	//	省内各城市
				var city = subDistricts[i];
				var cityname = city.name;
				var citynode = document.createElement("li");
				var $cn = $(citynode);
				if(i == subDistricts.length - 1) {
					citynode.setAttribute("class", "last");
				} else {
					citynode.setAttribute("class", "expandable");
				}
				var citydiv = document.createElement("div");
				citydiv.setAttribute("class", "hitarea expandable-hitarea");
				var citya = document.createElement("a");
				citya.setAttribute("href", "#");
				citya.setAttribute("class", "");
				citya.setAttribute("onclick", "gotoDist('" + city.id + "')");
				var citytext = document.createTextNode(cityname);
				citya.appendChild(citytext);
				citynode.appendChild(citydiv);
				citynode.appendChild(citya);
				if (!city.subclasses) {
					branchdom.appendChild(citynode);
					continue;
				}
				var countylist = document.createElement("ul");
				countylist.setAttribute("style", "display: none;");
				for (var j = 0; j < city.subclasses.length; j++) {//	城市内各区县
					var county = city.subclasses[j];
					var countyname = county.name;
					var countynode = document.createElement("li");
					if(j == city.subclasses.length - 1) {
						countynode.setAttribute("class", "last");
					} else {
						countynode.setAttribute("class", "expandable");
					}
					var countydiv = document.createElement("div");
					countydiv.setAttribute("class", "hitarea expandable-hitarea");
					var countya = document.createElement("a");
					countya.setAttribute("href", "#");
					countya.setAttribute("onclick", "gotoDist('" + county.id + "')");
					var countytext = document.createTextNode(countyname);
					countya.appendChild(countytext);
					countynode.appendChild(countydiv);
					countynode.appendChild(countya);
					if (county.subclasses) {
						var streetlist = document.createElement("ul");
						streetlist.setAttribute("style", "display: none;");
						for (var k = 0; k < county.subclasses.length; k++) {	//	区县内各街道
							var street = county.subclasses[k];
							var streetname = street.name;
							var streetnode = document.createElement("li");
							var streeta = document.createElement("a");
							streeta.setAttribute("href", "#");
							streeta.setAttribute("onclick", "gotoDist('" + street.id + "')");
							var streettext = document.createTextNode(streetname);
							streeta.appendChild(streettext);
							streetnode.appendChild(streeta);
							streetlist.appendChild(streetnode);
						}
						countynode.appendChild(streetlist);
					}
					countylist.appendChild(countynode);
				}
				citynode.appendChild(countylist);
				branchdom.appendChild(citynode);
			}
			var htm = branches.html();
			wholetree.innerHTML = inner1 + htm + inner2;

			$("#tree2").treeview({
//				add: branches
//				remove: branches
			});
		}

		$("#tree1").treeview({
			collapsed: true,
			animated: "fast",
			control:"#sidetreecontrol1",
			prerendered: true,
			persist: "location"
		});

		$("#tree2").treeview({
//			collapsed: true,
//			animated: "medium",
			control:"#sidetreecontrol2",
//			prerendered: true,
//			persist: "location"
		});

		map = new AMap.Map('mapContainer',{
			resizeEnable: true,
			center: [109.461756,30.285877],
			zoom:level
		});


		for (var i = 0; i < placedata.length; i++) {
			data = placedata[i];
			var marker;
			marker = new AMap.Marker({
				map: map,
				position: data.position,
				zIndex: 3,
				extData: data,
				title: data.name
			});
			AMap.event.addListener(marker, "click", mapFeatureClick);
			markers.push(marker);
		}

		map.on('complete', function(){
			map.plugin(["AMap.ToolBar", "AMap.OverView", "AMap.Scale"], function(){
				map.addControl(new AMap.ToolBar);
				map.addControl(new AMap.OverView({isOpen: true}));
				map.addControl(new AMap.Scale);

			});
		});
		map.setFitView();

		$(function() {
			setTypes();
			setDists();

		})

	</script>

    <script>
        window.searchType = 'HMSearch';
        //var preSelItem = document.getElementById("wiki_search");
        /*(function() {

        })();*/
        /*var _loaderControl = null;
        // 添加Loader控件
        var loaderObj = document.getElementById("hm_loader");
        window._loaderControl = new THtmlElementControl(loaderObj);

        function doLogin(){
            $.ajax({
                url: "login.php?action=login",
                data: {
                    username:$("#hm_user").val(),
                    password:$("#hm_pwd").val()
                },
                type: "POST",
                dataType: "json",
                success: function(data) {
                    if (data.retVal){
                        $('#hm_login').modal('hide');
                        location.reload();
                    }else{
                        alert("登陆失败！\n请检查用户名和密码是否正确！");
                    }
                }
            });
        }

        function doLogout(){
            $.ajax({
                url: "login.php?action=logout",
                type: "GET",
                dataType: "json",
                success: function(data) {
                    if (data.retVal){
                        location.reload();
                    }
                }
            });
        }*/

        /*function clickLogoNav(t, o){
            //window.location.reload();  //刷新页面
            activeLogoNav(t, o);
            require.config({
                paths: {
                    "hummingMap": "hummingMap"
                }
            });

            require(['hummingMap'], function(HMMap){
                HMMap.initSearch();
                $("#hm_wikinav").click();
            });
        }

        function activeLogoNav(t, o){
            window.searchType = t;
            if (preSelItem != null){
                var reg = new RegExp('(\\s|^)' + "active" + '(\\s|$)');
                preSelItem.className = preSelItem.className.replace(reg, ' ');
            }
            o.className += " active";
            preSelItem = o;

            var tip = "搜索..."
            if (t == 'HMSearch')
            {
                tip = "百科搜索...";
            }
            else if (t == 'TDTSearch')
            {
                tip = "天地图搜索...";
            }
            $("#autocomplete").attr('placeholder',tip);
        }*/

//        // 搜地理百科的内容
//        function searchGeoWiki(e){
//            require(['hummingSearch'], function(HMSearch){
//                HMSearch.searchWikiConcept(e);
//            });
//        }
//
//        function gotoWikiConcept(e){
//            require(['hummingUtil'], function(HMUtil){
//                var wikiUrl = HMUtil.G_WIKISearchUrl;
//                $.ajax({
//                    url: wikiUrl + "doc-concept-" + e,
//                    type: 'GET',
//                    success: function (data) {
//                        if(data == 'none'){
//                            window.open(wikiUrl);
//                        }
//                        else{
//                            window.open( wikiUrl + "doc-view-" + data);
//                        }
//                    }
//                });
//            });
//        }
//
//        // 设置地理百科图层
//        function setGeoWikiLayer(){
//            require(['hummingMap'], function(HMMap){
//                HMMap.setOwnerLayer();
//            });
//        }
//
//        // 获取POI步行指数
//        function getWalkIndex(e){
//            require(['tdtSearch'], function(TDTSearch){
//                TDTSearch.gePOIWalkIndex(e);
//            });
//        }
//
//        // 查看关系计算详情
//        function watchRelationDetail(){
//            require(['hummingMap'], function(HMMap){
//                HMMap.showRelationDetail();
//            });
//        }
//
//        // 添加参加关系计算百科要素
//        function addRelationCalFeature(e){
//            require(['hummingMap'], function(HMMap){
//                HMMap.addRelCalFeature(e);
//            });
//        }
//
//        // 周边关系计算
//        function surRelCalc(e){
//            require(['hummingMap'], function(HMMap){
//                HMMap.surroundingRelCalc(e);
//            });
//        }
//
//        // 地名空间
//        function geoNameSpace(e){
//            require(['hummingMap'], function(HMMap){
//                HMMap.getGeoNameSpace(e);
//            });
//        }
//
//        // 清除地名空间图形
//        function removeGeoNameSpace(){
//            require(['hummingMap'], function(HMMap){
//                HMMap.removeGeoNameSpace();
//            });
//        }
//
//        // 下载要素对应的owl文件
//        function downLoadOwl(e){
//            require(['hummingMap'], function(HMMap){
//                HMMap.downLoadOwlFile(e);
//            });
//        }
//
//        // 关闭查看关系计算详情面板
//        function closeWatchRelationDetailPanel(){
//            $("#hm_relDetail").popover('destroy');
//        }
//
//        // 关闭步行指数计算面板
//        function closeWalkIndexPanel(){
//            $("#hm_walkIndex").popover('destroy');
//        }
//
//        // 关闭关系计算结果面板
//        function closeRelCalPanel(){
//            $("#btnRelCal").popover('destroy');
//        }
//
//        // 关闭视野范围内搜索面板
//        function closeViewPanel(){
//            $("#btnView").popover('hide');
//        }
//
//        // 关闭地理百科内容预览面板
//        function closeWikiPanel(){
//            var wikiPanelObj = document.getElementById("wikicontentpanel");
//            wikiPanelObj.style.display="none";
//        }
    </script>

</body>

</html>
